## Quick recap

The team explored using Tosca service templates to model an online boutique microservice with multiple deployments, focusing on translating Kubernetes manifests into Tosca node types and relationships to capture service interactions and dependencies. They discussed the complexity of modeling microservice interactions, including Kubernetes selectors, Istio configurations, and environment variables, while examining how these elements could be represented in Tosca. The group concluded by exploring the benefits of using TOSCA for modeling microservice architectures in Kubernetes, particularly its ability to validate topological relationships and generate configuration, while discussing the need for standard architectures and dynamic service relationships.
## Next steps

- [All participants to expand on the discussion of why TOSCA for Kubernetes adds significant value.](https://us02tasks.zoom.us?meetingId=lFfT6dXZTKSpdxr3Nxci0A%3D%3D&stepId=313b6d34-9ede-11f0-b5a0-eefa5dd11b5a)
- [All participants to examine other microservice examples  to identify different mechanisms used to capture service relationships.](https://us02tasks.zoom.us?meetingId=lFfT6dXZTKSpdxr3Nxci0A%3D%3D&stepId=313b7126-9ede-11f0-b5a0-eefa5dd11b5a)
- [Tal to provide specific details about how Nepheo captured service relationships.](https://us02tasks.zoom.us?meetingId=lFfT6dXZTKSpdxr3Nxci0A%3D%3D&stepId=313b72b6-9ede-11f0-b5a0-eefa5dd11b5a)
- [All participants to consider how to define TOSCA types to model the service mesh and translate it into Kubernetes resources.](https://us02tasks.zoom.us?meetingId=lFfT6dXZTKSpdxr3Nxci0A%3D%3D&stepId=313b7428-9ede-11f0-b5a0-eefa5dd11b5a)
- [All participants to consider how dynamism and variability should be represented in the TOSCA model.](https://us02tasks.zoom.us?meetingId=lFfT6dXZTKSpdxr3Nxci0A%3D%3D&stepId=313b757c-9ede-11f0-b5a0-eefa5dd11b5a)
- [Angelo to define a standard application architecture to address heterogeneity in connection methods.](https://us02tasks.zoom.us?meetingId=lFfT6dXZTKSpdxr3Nxci0A%3D%3D&stepId=313b76b2-9ede-11f0-b5a0-eefa5dd11b5a)
- [Chris to document and keep the discussion page updated with the progress made.](https://us02tasks.zoom.us?meetingId=lFfT6dXZTKSpdxr3Nxci0A%3D%3D&stepId=313b77f2-9ede-11f0-b5a0-eefa5dd11b5a)
## Summary

### Kubernetes Service Modeling with Tosca

The team discussed modeling an online boutique microservice with 11 deployments using Tosca service templates to capture service interactions and dependencies. They explored how to translate Kubernetes manifests into Tosca node types and relationships, with Chris raising questions about whether interaction patterns are visible in manifests and how these relationships might be used during orchestration. The team aimed to demonstrate the value of using Tosca for Kubernetes by capturing complex service relationships and dependencies that might not be immediately apparent from Kubernetes manifests.
### Microservices Interaction Modeling Discussion

Tal and Chris discussed the complexity of modeling interactions between microservices, particularly focusing on selectors in Kubernetes and Istio configurations. Tal emphasized the need to express selectors in TOSCA without hiding them, highlighting the potential for round-robin proxies and the flexibility of Kubernetes label usage. Chris and Tal explored how deployments, pods, and containers use labels, with Tal noting that this setup could be used for A/B testing. Marcel contributed by pointing out how environment variables in Istio configurations can reveal connections between microservices, though he noted the variability in how these connections are implemented.
### Kubernetes DNS and TOSCA Configuration

Marcel and Chris discussed how Kubernetes uses DNS for service communication, with Marcel explaining that Kubernetes runs a DNS service that maps service names to IP addresses. Tal suggested creating a special TOSCA interface called "Configuration" that could generate environment variables during initialization, allowing software to be configured based on the topology. This approach would enable the creation of custom scripts that understand specific software needs, similar to Nepheo's configuration process.
### TOSCA Environment Variables Integration

The team discussed how environment variables can be used to inject configuration data into software, particularly in the context of Kubernetes and TOSCA. Tal suggested that an onboarding process would be needed for software to be TOSCA-compliant, involving the creation of profiles that define data types and potentially require custom functions or artifacts. Marcel raised a question about how the software would understand environment variable names, to which Tal responded that this would be part of the onboarding process. The discussion concluded with Tal noting that while their current TOSCA functions might not be sufficient for generating environment variables, a custom function could be developed to simplify the process.
### Service Meshes in Kubernetes Discussion

Chris and Tal discussed the importance of service meshes in Kubernetes, focusing on how they convey information about service interactions. They agreed that a list of relationships between services is necessary for interface definitions, though the specific method of generating this list is less important. Tal explained that while Istio creates a virtual service that wraps existing services with a proxy, it doesn't enforce strict security rules by default. He noted that other service meshes like Psyllium use eBPF for more advanced filtering of service communications.
### Kubernetes Configurations and TOSCA Integration

Calin and Tal discussed the role of environment variables and application-level configurations in Kubernetes deployments. They clarified that these configurations are specific to the application and not understood by Kubernetes, requiring custom mechanisms for TOSCA templates to represent them. Tal emphasized that while Kubernetes provides basic service discovery, more complex applications might need custom solutions, and TOSCA could offer a way to visualize these relationships, which Kubernetes itself cannot do.
### TOSCA for Microservice Architecture Modeling

The group discussed the benefits of using TOSCA for modeling microservice architectures in Kubernetes, particularly its ability to validate topological relationships and generate configuration. Tal emphasized that TOSCA provides solution architects with a powerful tool for designing applications, while Chris noted that implementation can enforce the model to ensure it matches the real world. The team agreed to explore different mechanisms for capturing service relationships, examine additional examples, and consider how to translate TOSCA models into Kubernetes-specific node types and resources. They also discussed the need to define a standard architecture for applications and the potential for dynamic behavior in service relationships.
