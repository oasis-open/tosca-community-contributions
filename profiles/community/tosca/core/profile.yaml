tosca_definitions_version: tosca_2_0

profile: community.tosca.core:0.1

description: >-
  TOSCA Community Core Profile type definitions

data_types:
  json:
    description: >-
      The json type defines strings that contain data in the JSON format
    derived_from: string
    #validation: TBD (may need custom functions)
  yaml:
    description: >-
      The yaml type defines strings that contain data in the YAML format
    derived_from: string
    #validation: TBD (may need custom functions)
  ipv4:
    description: >-
      The ipv4 type defines string that contain an IPv4 address
    derived_from: string
    validation: { $matches: [ $value, "^((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$" ] }
  port:
    description: >-
      The port type defines integer that contain valid ports
    derived_from: integer
    validation: { $in_range: [ $value, [ 0, 0xFFFF ] ] }
  ipv4Socket:
    description: >-
      This complex type represents an IPv4 socket (address+port)
    properties:
      ip-address:
        type: ipv4
      transport-port:
        type: port

functions:
  to_string:
    description: >-
      Convert an integer to string 
    signatures:
      - arguments:
          - type: integer
            description: >-
              The integer to convert to string
        result: string
        implementation: functions.string:to_string
  to_uppercase:
    description: >-
      Convert a string to upper case
    signatures:
      - arguments:
          - type: string
            description: >-
              The string to convert to upper case.
        result: string
        implementation: functions.string:to_uppercase
