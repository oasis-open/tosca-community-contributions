tosca_definitions_version: tosca_2_0

profile: community.tosca.core:0.1

description: >-
  TOSCA Community Core Profile type definitions

data_types:
  json:
    description: >-
      The json type defines strings that contain data in the JSON format
    derived_from: string
    #validation: TBD (may need custom functions)
  yaml:
    description: >-
      The yaml type defines strings that contain data in the YAML format
    derived_from: string
    #validation: TBD (may need custom functions)
  ipv4:
    description: >-
      The ipv4 type defines string that contain an IPv4 address
    derived_from: string
    validation: { $matches: [ $value, "^((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$" ] }
  port:
    description: >-
      The port type defines integer that contain valid ports
    derived_from: integer
    validation: { $in_range: [ $value, [ 0, 0xFFFF ] ] }
  ipv4Socket:
    description: >-
      This complex type represents an IPv4 socket (address+port)
    properties:
      ip-address:
        type: ipv4
      transport-port:
        type: port
  genericId:
    description: >-
      The genericId type represents a generic string identifier. It can be used to
      derive specific types, by adding proper validation
    derived_from: string
  alphanumericId:
    description: >-
      The alphanumericId type represents an alphanumeric type of arbitrary length
      made up only by digits and uppercase/lowercase letters
    derived_from: genericId
    validation: { $matches: [ $value, "^[A-Za-z0-9]+$" ] }
  uuid:
    description: >-
      The uuid type represents an IETF RFC4122 compliant universal identifier (types 1-5)
    derived_from: genericId
    validation: { $matches: [ $value, "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-5][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}$" ] }
  uuidRelaxed:
    description: >-
      The uuidRelaxed type represents an identifier with format 8-4-4-4-12 (hex digits with dashes),
      but without full compliance to IETF RFC4122
    derived_from: genericId
    validation: { $matches: [ $value, "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$" ] }

functions:
  to_string:
    description: >-
      Convert an integer to string 
    signatures:
      - arguments:
          - type: integer
            description: >-
              The integer to convert to string
        result: string
        implementation: functions.string:to_string
  to_uppercase:
    description: >-
      Convert a string to upper case
    signatures:
      - arguments:
          - type: string
            description: >-
              The string to convert to upper case.
        result: string
        implementation: functions.string:to_uppercase
