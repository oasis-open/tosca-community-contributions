tosca_definitions_version: tosca_2_0

profile: community.tosca.base:0.1

description: >-
  TOSCA Base Profile type definitions. This files contains
  highest-level definitions of abstract types.

imports:
- profile: community.tosca.core:0.1

capability_types:
  PlatformHost:
    description: >-
      This capability types is exposed by Platform node types and is
      targeted by HostedOn relationships. It expresses the ability of
      a node template derived from the Platform node type to host
      another platform.
    derived_from: Container
    valid_relationship_types: [HostedOn]
  ExecutionEnvironment:
    description: >-
      This capability types is exposed by Platform node types and is
      targeted by RunsOn relationships. It expresses the ability of a
      node template derived from the Platform node type to provide the
      execution environment for a specific application.
    derived_from: Container
    valid_relationship_types: [RunsOn]
  DataPlatform:
    description: >-
      This capability types is exposed by Platform node types and is
      targeted by AvailableOn relationships. It expresses the ability
      of a node template derived from the Platform node type to host
      data.
    derived_from: Container
    valid_relationship_types: [AvailableOn]
  DataSource:
    description: >-
      This capability types is exposed by Data node types and is
      targeted by Processes relationships. It expresses the ability of
      a node template derived from the Data node type to make
      available data for an application.
    derived_from: Feature
    valid_relationship_types: [Processes]
  Linkable:
    description: >-
      This capability types is exposed by Network node types and is
      targeted by Platform relationships. It expresses the ability of
      a node template derived from the Platform node type to connect
      to a specific network.
    derived_from: Feature
    valid_relationship_types: [LinksTo]

relationship_types:
  HostedOn:
    description: >-
      Used for Relationship between nodes derived from the abstract
      Platform node types defined here
    metadata:
      relationship_kind: containment
    derived_from: ContainedBy
    properties:
      implementation-details:
        type: json
        required: false
    valid_capability_types: [PlatformHost]
  RunsOn:
    description: >-
      Used for Relationship between nodes derived from the abstract
      Application and Platform node types defined here
    metadata:
      relationship_kind: containment
    derived_from: ContainedBy
    properties:
      implementation-details:
        type: json
        required: false
    valid_capability_types: [ExecutionEnvironment]
  AvailableOn:
    description: >-
      Used for Relationship between nodes derived from the abstract
      Data and Platform node types defined here
    metadata:
      relationship_kind: containment
    derived_from: ContainedBy
    properties:
      implementation-details:
        type: json
        required: false
    valid_capability_types: [DataPlatform]
  Processes:
    description: >-
      Used for Relationship between nodes derived from the abstract
      Application and Data node types defined here
    metadata:
      relationship_kind: dependency
    derived_from: DependsOn
    properties:
      implementation-details:
        type: json
        required: false
    valid_capability_types: [DataSource]
  LinksTo:
    description: >-
      Used for Relationship between nodes derived from the abstract
      Platform and Netork node types defined here
    metadata:
      relationship_kind: dependency
    derived_from: DependsOn
    properties:
      implementation-details:
        type: json
        required: false
    valid_capability_types: [Linkable]

interface_types:
  Standard:
    operations:
      create:
        description: >-
          Operation to create a node.
      modify:
        description: >-
          Operation to modify a node.
      delete:
        description: >-
          Operation to delete a node.

node_types:
  Platform:
    description: >-
      Abstract Node Type modeling a generic platform, providing resources
      and capabilities to host a running application and/or to store a dataset
    properties:
      implementation-details:
        description: >-
          Opaque data that are intended to be processed by
          substituting templates.
        type: json
        required: false
    capabilities:
      host:
        type: PlatformHost
      execution-environment:
        type: ExecutionEnvironment
      data-platform:
        type: DataPlatform
    requirements:
      - host:
          capability: PlatformHost
          relationship: HostedOn
      - links-to:
          capability: Linkable
          relationship: LinksTo
    interfaces:
      standard:
        type: Standard
  Application:
    description: >-
      Abstract Node Type modeling a generic application
    properties:
      name:
        type: string
      implementation-details:
        description: >-
          Opaque data that are intended to be processed by
          substituting templates.
        type: json
        required: false
    requirements:
      - processes:
          capability: DataSource
          relationship: Processes
      - runs-on:
          capability: ExecutionEnvironment
          relationship: RunsOn
    interfaces:
      standard:
        type: Standard
  Data:
    description: >-
      Abstract Node Type modeling a generic set of data
    properties:
      implementation-details:
        description: >-
          Opaque data that are intended to be processed by
          substituting templates.
        type: json
        required: false
    capabilities:
      data-source:
        type: DataSource
    requirements:
      - available-on:
          capability: DataPlatform
          relationship: AvailableOn
    interfaces:
      standard:
        type: Standard
  Network:
    description: >-
      Abstract Node Type modeling a generic network
    properties:
      implementation-details:
        description: >-
          Opaque data that are intended to be processed by
          substituting templates.
        type: json
        required: false
    capabilities:
      linkable:
        type: Linkable
    interfaces:
      standard:
        type: Standard

