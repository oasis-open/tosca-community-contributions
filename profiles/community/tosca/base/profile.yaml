tosca_definitions_version: tosca_2_0

profile: community.tosca.base:0.1

description: >-
  TOSCA Common Profile type definitions. This files contains
  highest-level definitions of abstract types.

imports:
- profile: community.tosca.core:0.1

data_types:
  ImplementationDetails:
    description: >-
      This abstract Data Type is used as a container for implementation
      details of abstract nodes and relationships.

capability_types:
  ExecutionEnvironment:
    description: >-
      This capability types is exposed by Platform node types to target
      RunsOn relationships. It expresses the ability of a node template
      derived from the Platform node type to provide the execution environment
      for a specific application.
    valid_relationship_types: [RunsOn]
  DataPlatform:
    description: >-
      This capability types is exposed by Platform node types to target
      AvailableOn relationships. It expresses the ability of a node template
      derived from the Platform node type to host data.
    valid_relationship_types: [AvailableOn]
  DataSource:
    description: >-
      This capability types is exposed by Data node types to target
      Processes relationships. It expresses the ability of a node template
      derived from the Data node type to make available data for an
      application.
    valid_relationship_types: [Processes]
  Linkable:
    description: >-
      This capability types is exposed by Network node types to target
      Platform relationships. It expresses the ability of a node template
      derived from the Platform node type to connect to a specific network.
    valid_relationship_types: [LinksTo]

relationship_types:
  RunsOn:
    description: >-
      Used for Relationship between nodes derived from the abstract
      Application and Platform node types defined here
    metadata:
      relationship_kind: containment
    properties:
      implementation-details:
        type: ImplementationDetails
        required: false
    valid_capability_types: [ExecutionEnvironment]
  AvailableOn:
    description: >-
      Used for Relationship between nodes derived from the abstract
      Data and Platform node types defined here
    metadata:
      relationship_kind: containment
    properties:
      implementation-details:
        type: ImplementationDetails
        required: false
    valid_capability_types: [DataPlatform]
  Processes:
    description: >-
      Used for Relationship between nodes derived from the abstract
      Application and Data node types defined here
    metadata:
      relationship_kind: dependency
    properties:
      implementation-details:
        type: ImplementationDetails
        required: false
    valid_capability_types: [DataSource]
  LinksTo:
    description: >-
      Used for Relationship between nodes derived from the abstract
      Platform and Netork node types defined here
    metadata:
      relationship_kind: dependency
    properties:
      implementation-details:
        type: ImplementationDetails
        required: false
    valid_capability_types: [Linkable]


node_types:
  Platform:
    description: >-
      Abstract Node Type modeling a generic platform, providing resources
      and capabilities to host a running application and/or to store a dataset
    properties:
      implementation-details:
        type: ImplementationDetails
        required: false
    capabilities:
      execution-environment:
        type: ExecutionEnvironment
      data-platform:
        type: DataPlatform
    requirements:
      - links-to:
          capability: Linkable
          relationship: LinksTo
  Application:
    description: >-
      Abstract Node Type modeling a generic application
    properties:
      name:
        type: string
      implementation-details:
        type: ImplementationDetails
        required: false
    requirements:
      - processes:
          capability: DataSource
          relationship: Processes
      - runs-on:
          capability: ExecutionEnvironment
          relationship: RunsOn
  Data:
    description: >-
      Abstract Node Type modeling a generic set of data
    properties:
      implementation-details:
        type: ImplementationDetails
        required: false
    capabilities:
      data-source:
        type: DataSource
    requirements:
      - available-on:
          capability: DataPlatform
          relationship: AvailableOn
  Network:
    description: >-
      Abstract Node Type modeling a generic network
    properties:
      implementation-details:
        type: ImplementationDetails
        required: false
    capabilities:
      linkable:
        type: Linkable

