tosca_definitions_version: tosca_2_0

interface_types:
  Backup:
    operations:
      backup:
        description: Backup the entity
        
node_types:
  Entity:
    interfaces:
      backup:
        type: Backup
        inputs:
          location:
            type: string
        operations:
          backup:
            inputs:
              name:
                type: string

service_template:
  node_templates:
    client:
      type: Entity

  workflows:
    backup:
      inputs:
        location:
          type: string
        name:
          type: string
      steps:
        backup_client:
          target: client
          activities: 
            - call_operation:
                operation: backup.backup
                inputs:
                  location: {$get_input: location}
                  name: {$get_input: name}
