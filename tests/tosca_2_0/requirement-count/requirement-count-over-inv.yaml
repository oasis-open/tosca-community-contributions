tosca_definitions_version: tosca_2_0
imports:
- requirement-count-types.yaml

node_types:
  Client:
    requirements:
      - service:
          capability: ServiceCapability
          count_range: [ 1, 4 ]

service_template:
  node_templates:
    server1:
      type: Server

    server2:
      type: Server

    server3:
      type: Server

    server4:
      type: Server

    server5:
      type: Server

    client:
      type: Client
      directives: [ substitute ]
      requirements:
      - service: server1
      - service: server2
      - service: server3
      - service: server4
      # Requirement count exceeded here
      - service: server5

